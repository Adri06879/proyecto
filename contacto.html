<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es">
<head>
   <title>Contacto - Cafetería Delicia</title>
    <link rel="icon" href="imagenes/favicon.png" type="image/png" />
<style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f7fc;
            margin: 0;
            padding: 0;
            color: #333;
        }

        #header {
            background-color: #0cb74e;
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 36px;
            letter-spacing: 2px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        #nav {
            background-color: #333;
            overflow: hidden;
            display: flex;
            justify-content: center;
            padding: 10px;
        }

        #nav a {
            color: white;
            margin: 0 15px;
            text-decoration: none;
            font-size: 18px;
        }

        #nav a:hover {
            text-decoration: underline;
        }

        .content {
            padding: 50px;
            text-align: center;
        }

        .content h2 {
            color: #52d2d6;
            font-size: 28px;
            margin-bottom: 20px;
        }

        .content p {
            font-size: 18px;
        }

        form {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
        }

        form h3 {
            font-size: 26px;
            margin-bottom: 20px;
            color: #333;
        }

        label {
            font-size: 16px;
            color: #333;
            display: block;
            margin-bottom: 8px;
        }

        input, select, textarea {
            width: 100%;
            padding: 12px;
            margin: 8px 0;
            border-radius: 8px;
            border: 1px solid #ccc;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        input:focus, select:focus, textarea:focus {
            border-color: #0cb74e;
            box-shadow: 0 0 8px rgba(9, 203, 16, 0.906);
        }

        input[type="submit"] {
            background-color: #0cb74e;
            color: white;
            font-size: 18px;
            cursor: pointer;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            transition: background-color 0.3s ease;
        }

        input[type="submit"]:hover {
            background-color: #0cb74e;
        }

        fieldset {
            border: none;
            margin: 15px 0;
        }

        legend {
            font-weight: bold;
            color: #0cb74e;
            font-size: 18px;
        }

        .checkbox-group label {
            display: inline-block;
            margin-right: 20px;
            font-size: 16px;
            color: #333;
        }

        .checkbox-group input {
            width: auto;
        }

        textarea {
            height: 150px;
            resize: vertical;
        }

        #footer {
            background-color: #0cb74e;
            color: white;
            text-align: center;
            padding: 10px;
            width: 100%;
            bottom: 0;
            margin-top: 50px;
            font-size: 12px;
        }

        #footer p {
            margin: 0;
            font-size: 14px;
        }

        #footer a {
            text-decoration: none;
            color: white;
        }

        #footer a img {
            margin-top: 10px;
        }

        @media (max-width: 768px) {
            .content {
                padding: 30px;
            }

            form {
                width: 90%;
            }

            input[type="submit"] {
                width: 100%;
            }
        }
    </style>
    <script>
        var todos_css = ["css/estilo.css", "css/estilo_oscuro.css", "css/estilo_sepia.css", "css/estilo_azul.css"];
        css_actual = 0;
        var css_link = document.getElementById("css_archivo");

        window.onload = function () {
            document.onkeydown = function (event) {
                tecla_pulsada(event);
            };
        }

        window.onload = function() {
        const fechaInput = document.getElementById("fecha");
        const hoy = new Date();
        const fechaHoy = hoy.toISOString().split('T')[0];  
        
        fechaInput.value = fechaHoy;
        };

        
        function tecla_pulsada(event) {
            if (event.keyCode == 39) {
                css_actual = (css_actual + 1) % todos_css.length
                css_link.setAttribute("href", todos_css[css_actual])
            }
        }


        function comprueba_nombre() {
            var nombre = document.getElementById("nombre").value; 
            var salida = document.getElementById("errnombre");

            if (nombre.length == 0 || nombre == null || /^\s+$/.test(nombre)) {
                salida.style.display = 'inline';
                salida.innerHTML = "Obligatorio: Rellena tu nombre";
                salida.style.color = "red";
            } else if (/^[A-Z][a-zñáéíóú]{2,20}((\s|\-)[A-Z][a-zñáéíóú]{2,20})*$/.test(nombre)) {
                salida.innerHTML = "OK";
                salida.style.color = "green";

            } else {
                salida.style.display = 'inline';
                salida.innerHTML = "Nombre incorrecto";
                salida.style.color = "red";
            }

        }




        function comprueba_apellido() {
            var apellido = document.getElementById("apellido").value;
            var salida = document.getElementById("errapellido");

            if (apellido.length == 0 || apellido == null || /^\s+$/.test(apellido)) {
                salida.style.display = 'inline';
                salida.innerHTML = "Obligatorio: Rellena tu nombre";
                salida.style.color = "red";
            } else if (/^[A-Z][a-z]{2,20}(\s[A-za-z]{2,20})*$/.test(apellido)) {
                salida.innerHTML = "OK";
                salida.style.color = "green";
            } else {
                salida.style.display = 'inline';
                salida.innerHTML = "Apellido incorrecto, ejemplo: Cordoba";
                salida.style.color = "red";
            }
        }

     
        function comprueba_correo() {
            var correo = document.getElementById("correo").value;
            var salida = document.getElementById("errcorreo");

            if (correo.length == 0 || correo == null || /^\s+$/.test(correo)) {
                salida.innerHTML = "Has de rellenar el correo";
                salida.style.display = 'inline';
                salida.style.color = "red";
            } else if (/^[a-z0-9\-]{1,}@[a-z0-9]{1,}\.[a-z]{2,4}$/.test(correo)) {
                salida.innerHTML = "OK";
                salida.style.color = "green";

                ;
            } else {
                salida.innerHTML = "correo incorrecto, ejemplo adriandelgado@gmail.com";
                salida.style.display = 'inline';
                salida.style.color = "red";
            }

        }

      
        function validarPostal() {
            var valor = document.getElementById("cp").value;
            var inner = document.getElementById("errpostal");
            valor = valor.replace(/\D/g, ''); 
            if (valor.trim() === "") {
                inner.innerHTML = "Por favor introduzca un código postal";
                inner.style.color = "red";
                activo_postal = false;
            } else if (!(/^\d{5}$/.test(valor))) {   
                inner.innerHTML = "Introduzca correctamente su código postal";
                inner.style.color = "red";
                activo_postal = false;
            } else {

                valor = parseInt(valor, 10);
                inner.innerHTML = "OK";
                inner.style.color = "green";
                activo_postal = true;
            }
        }



        function validarDni() {
            var dni = document.getElementById("dni").value;
            var salida = document.getElementById("errdni");
            var letras = ['T', 'R', 'W', 'A', 'G', 'M', 'Y', 'F', 'P', 'D', 'X', 'B', 'N', 'J',
                'Z', 'S', 'Q', 'V', 'H', 'L', 'C', 'K', 'E', 'T'];

            if (!(/^\d{1,8}[A-Z]$/.test(dni))) {
                salida.style.display = 'inline';
                salida.innerHTML = "Formato DNI no válido, ejemplo de formato válido: 71372288E";
                salida.style.color = "red";
            } else {
                salida.innerHTML = "OK";
                salida.style.color = "green";

                if (dni.charAt(8).toUpperCase() != letras[(dni.substring(0, 8)) % 23]) {
                    salida.style.display = 'inline';
                    salida.innerHTML = "La letra del DNI no corresponde con el número indicado";
                    salida.style.color = "red";
                } else {
                    salida.innerHTML = "OK";
                    salida.style.color = "green";
                }
            }
        }
       
  

        function mayus(m) {
            m.value = m.value.toUpperCase();  
        }  

  function validarTiposContacto() {
    var cont = 0;
    var opciones = ["contacto1", "contacto2", "contacto3", "contacto4", "contacto5"];
    
    for (var i = 0; i < opciones.length; i++) {
        var checkbox = document.getElementById(opciones[i]);
        if (checkbox && checkbox.checked) {
            cont++;
        }
    }

    var mensajeError = document.getElementById("errorContacto");

    if (cont < 1) {  
        mensajeError.innerHTML = "Debes seleccionar al menos 1 tipo de contacto.";
        mensajeError.style.color = "red";
        return false;
    } 
    if (cont > 3) {  
        mensajeError.innerHTML = "Solo puedes seleccionar hasta 3 métodos de contacto.";
        mensajeError.style.color = "red";
        
      
        event.target.checked = false;
        return false;
    }

    mensajeError.innerHTML = "OK";
    mensajeError.style.color = "green";
    return true;
}
  

        function limita2(maximoCaracteres) {
            var elemento = document.getElementById("observaciones");
            if (elemento.value.length >= maximoCaracteres) {
                return false;
            } else {
                var quedan = maximoCaracteres - elemento.value.length - 1;
                document.getElementById("spancaracteres").innerHTML = "Te quedan " + quedan + " caracteres";
                return true;
            }
        }

 


        function permitir(elevento, caracteres_permitidos) {
            var Numeros = "0123456789";
            var caracteres = " abcdefghijklmnñopqrstuvwxyzABCDEFGHIJKLMNPQRSTUVWXYZ";
            var Numeros_Caracteres = Numeros + caracteres;
            var Letras_especiales = [8, 37, 39, 46];

            switch (caracteres_permitidos) {
                case 'num':
                    caracteres_permitidos = Numeros;
                    break;
                case 'car':
                    caracteres_permitidos = caracteres;
                    break;
                case 'num_car':
                    caracteres_permitidos = Numeros_Caracteres;
                    break;
            }
            var evento = elevento || window.event;
            var codigodecaracter = evento.charCode || evento.keyCode;
            var caracter = String.fromCharCode(codigodecaracter);
            var tecla_especial_permitida = false;

            for (var i in Letras_especiales) {
                if (codigodecaracter == Letras_especiales[i]) {
                    tecla_especial_permitida = true;
                    break;
                }
            }
            return caracteres_permitidos.indexOf(caracter) != -1 || tecla_especial_permitida;
        }

        function limita(elEvento, maximoCaracteres) {
            var elemento = document.getElementById("texto");
         
            var evento = elEvento || window.event;
            var codigoCaracter = evento.charCode || evento.keyCode;
           
            if (codigoCaracter == 37 || codigoCaracter == 39) {
                return true;
            }
            if (codigoCaracter == 8 || codigoCaracter == 46) {
                return true;
            } else if (elemento.value.length >= maximoCaracteres) {
                return false;
            } else {
                return true;
            }
        }

        function actualizaInfo(maximoCaracteres) {
            var elemento = document.getElementById("texto");
            var info = document.getElementById("info");
            if (elemento.value.length >= maximoCaracteres) {
                info.innerHTML = "Máximo " + maximoCaracteres + " caracteres";
            } else {
                info.innerHTML = "Puedes escribir hasta " + (maximoCaracteres - elemento.value.length) + " caracteres adicionales";


            }


        }
      function validarTelefono() {
    var telefono = document.getElementById("telefono").value;
    var salida = document.getElementById("errtelefono");

    if (telefono.length == 0 || telefono == null || /^\s+$/.test(telefono)) {
        salida.innerHTML = "Introduce un número de teléfono";
        salida.style.display = 'inline';
        salida.style.color = "red";
    } else if (!(/^\d{9}$/.test(telefono))) {
        salida.innerHTML = "El número de teléfono debe tener 9 dígitos";
        salida.style.display = 'inline';
        salida.style.color = "red";
    } else {
        salida.innerHTML = "OK";
        salida.style.color = "green";
    }
}

function validarTiposContacto() {
    if (document.getElementById("contacto2").checked) {
        telefonoInput.style.display = "block";
    } else {
        telefonoInput.style.display = "none";
    }
    validarTelefono();
    return true;
}

        function botonDisabled() {
    let nombreValido = document.getElementById("errnombre").innerHTML == "OK";
    let correoValido = document.getElementById("errcorreo").innerHTML == "OK";
    let dniValido = document.getElementById("errdni").innerHTML == "OK";
    let postalValido = document.getElementById("errpostal").innerHTML == "OK";
   

    if (nombreValido && correoValido && dniValido && postalValido) {
        document.getElementById("btnEnviar").disabled = false; 
    } else {
        document.getElementById("btnEnviar").disabled = true; 
    }
}


    </script>
</head>

<body>

<div id="header">
        <h1>Contacto</h1>
        <p>Estamos aquí para ayudarte</p>
    </div>

<nav id="nav">
        <a href="index.html">Inicio</a>
        <a href="menu.html">Menú</a>
        <a href="sobre-nosotros.html">Sobre Nosotros</a>
        <a href="contacto.html">Contacto</a>
        <a href="reserva.html">Reservar</a>
    </nav>
<div class="content">
        <h2>Contáctanos</h2>
        <p>Para consultas, puedes comunicarte con nosotros:</p>
        <p><strong>Dirección:</strong> Av. de los Estudiantes, 83, 13300 Valdepeñas, Ciudad Real</p>
        <p><strong>Teléfono:</strong> +34 675 08 68 19</p>
        <p><strong>Correo electrónico:</strong> <a href="mailto:cafeteriaydelicias@gmail.com">cafeteriaydelicias@gmail.com</a></p>

                
           <form id="formulario" action="recibe.php" method="post" enctype="multipart/form-data">
    <p>
        <label for="nombre">Nombre:</label>
        <input type="text" name="nombre" id="nombre" value="" oninput='comprueba_nombre(); botonDisabled();'/>
        <span id="errnombre"></span>
    </p>

    <p>
        <label for="correo">e-mail:</label>
        <input type="text" id="correo" name="correo" value="" maxlength="30" oninput="comprueba_correo(); botonDisabled();"/>
        <span id="errcorreo"></span>
    </p>

    <p>
        <label for="fecha">Fecha de nacimiento:</label>
        <input type="date" id="fecha" name="fecha" oninput="comprueba_fecha(); requiered " />
        <span id="errfecha"></span>
    </p>

    <p>
        <label for="cp">Código Postal :</label>
        <input type="text" id="cp" name="codigo" value="" maxlength="5" onkeypress="return permitir(event, 'num')" oninput="validarPostal(); botonDisabled();"/>
        <span id="errpostal"></span>
    </p>

    <p>
        <label for="dni">DNI :</label>
        <input type="text" id="dni" name="dni" value="" oninput="mayus(this); validarDni(); botonDisabled(); ponerCeros()" maxlength="9"/><span id="errdni"></span>
    </p>

    <p>
    <label for="invitados">Número de invitados:</label>
    <input type="number" id="invitados" name="invitados" value="1" min="1" max="20" oninput="botonDisabled();" />
    <span id="errinvitados"></span>
    </p>

    <p>
        <label for="archivo">Adjuntar archivo:</label>
        <input type="file" id="archivo" name="archivo" accept="image/*, .pdf" oninput="botonDisabled();" />
    </p>

    <p>
        <label for="ccontacto">Métodos de contacto (mínimo 1, teléfono obligatorio):</label><br/><br/>
        <input type="checkbox" name="contacto[]" value="email" id="contacto1" onclick="validarTiposContacto(); botonDisabled();"/>Email<br/>
        <input type="checkbox" name="contacto[]" value="telefono" id="contacto2" onclick="validarTiposContacto(); botonDisabled();"/>Teléfono<br/>
        <input type="checkbox" name="contacto[]" value="whatsapp" id="contacto3" onclick="validarTiposContacto(); botonDisabled();"/>WhatsApp<br/>
        <input type="checkbox" name="contacto[]" value="sms" id="contacto4" onclick="validarTiposContacto(); botonDisabled();"/>SMS<br/>
        <input type="checkbox" name="contacto[]" value="correo" id="contacto5" onclick="validarTiposContacto(); botonDisabled();"/>Correo Postal<br/>
        <br/>
        <span id="errorContacto" style="display: block; margin-top: 5px;"></span>
    </p>
    <div id="telefonoInput" style="display: none;">
        <label for="telefono">Número de teléfono:</label>
        <input type="text" id="telefono" name="telefono" value="" maxlength="9" onkeypress="return permitir(event, 'num')" oninput="validarTelefono(); botonDisabled();"/>
        <span id="errtelefono"></span>
    </div>
    <p>      
        <label>Más información:</label><br/>
        <textarea id="observaciones" name="observaciones" oninput="limita2(500);" maxlength="500"></textarea><br/>
        <span id="spancaracteres">Te quedan 500 caracteres</span>
    </p>
    <p>
        <input type="submit" value="Enviar" id="btnEnviar" disabled />
    </p>
</form>



       </div>

    <div id="footer">
        <p>© 2025 Cafetería Delicia - Todos los derechos reservados</p>
    </div>
</body>
</html>


